{% extends 'base.html.twig' %}

{% block title %}Welcome to GymForce{% endblock %}

{% block body %}
<style>
    body {
        background: linear-gradient(135deg, #232526 0%, #414345 100%);
        font-family: 'Inter', sans-serif;
        color: #f5f5f7;
        margin: 0;
        padding: 0;
    }

    .hero {
        text-align: center;
        padding: 4rem 1rem;
        background: radial-gradient(circle at center, #00bfae 10%, transparent 80%);
    }

    .hero h1 {
        font-size: 3rem;
        font-weight: 700;
        color: #232526;
        letter-spacing: 2px;
    }

    .hero p {
        font-size: 1.2rem;
        color: #5e6e73;
    }

    .subscriptions {
        padding: 3rem 1rem;
        text-align: center;
    }

    .subscriptions h2 {
        color: #00bfae;
        margin-bottom: 2rem;
        letter-spacing: 1px;
    }

    .plans {
        display: flex;
        justify-content: center;
        flex-wrap: wrap;
        gap: 2rem;
    }

    .plan-card {
        background-color: #fff;
        border-radius: 18px;
        padding: 2rem;
        width: 280px;
        box-shadow: 0 0 15px rgba(0,191,174,0.08);
        transition: transform 0.3s ease;
        color: #232526;
    }

    .plan-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 32px rgba(0,191,174,0.13);
    }

    .plan-title {
        font-size: 1.5rem;
        font-weight: 700;
        color: #232526;
        margin-bottom: 0.5rem;
    }

    .plan-price {
        font-size: 1.2rem;
        color: #00bfae;
        margin-bottom: 1rem;
        font-weight: 600;
    }

    .plan-features {
        list-style: none;
        padding: 0;
        margin-bottom: 1.5rem;
        color: #5e6e73;
    }

    .plan-btn {
        background: linear-gradient(90deg, #00bfae 0%, #00796b 100%);
        border: none;
        padding: 0.6rem 1.2rem;
        border-radius: 10px;
        color: white;
        font-weight: 700;
        text-decoration: none;
        transition: background 0.3s ease;
        letter-spacing: 1px;
    }

    .plan-btn:hover {
        background: linear-gradient(90deg, #00796b 0%, #00bfae 100%);
    }

    .features {
        padding: 4rem 2rem;
        background-color: #232526;
        text-align: center;
    }

    .features h2 {
        color: #00bfae;
        margin-bottom: 2rem;
        letter-spacing: 1px;
    }

    .features p {
        color: #b0b8ba;
        max-width: 600px;
        margin: auto;
    }

    .product-card {
        border-radius: 18px;
        box-shadow: 0 4px 24px rgba(0,191,174,0.10);
        overflow: hidden;
        transition: transform 0.2s, box-shadow 0.2s;
        background: #fff;
        color: #232526;
    }

    .product-card:hover {
        transform: translateY(-7px) scale(1.03);
        box-shadow: 0 8px 32px rgba(0,191,174,0.18);
    }

    .product-card .card-title {
        color: #232526;
    }

    .product-card .btn-dark {
        border-radius: 8px;
        font-weight: 700;
        letter-spacing: 1px;
        background: linear-gradient(90deg, #00bfae 0%, #00796b 100%);
        border: none;
        color: #fff;
    }

    .product-card .btn-dark:hover {
        background: linear-gradient(90deg, #00796b 0%, #00bfae 100%);
        color: #fff;
    }

    .product-card .badge {
        font-size: 1rem;
        padding: 0.5em 1em;
        border-radius: 12px;
    }

    .product-card .rating i {
        font-size: 1.1rem;
    }

    .product-card .h4.text-danger {
        color: #00bfae !important;
    }

    @media (max-width: 991px) {
        .cart-float { right: 20px; top: 20px; }
    }

    @media (max-width: 767px) {
        .plans { flex-direction: column; align-items: center; }
        .cart-float { right: 10px; top: 10px; }
    }

    /* Footer styles */
    .footer {
        background: #111;
        color: #aaa;
        padding: 24px 0 10px 0;
        text-align: center;
        letter-spacing: 1px;
        font-size: 1.1rem;
    }
</style>

<div class="hero">
    <h1>Welcome to GymForce</h1>
    <p>Your fitness journey starts here. Choose your plan and get started today!</p>
</div>

<div class="subscriptions">
    <h2>Our Subscription Plans</h2>
    <div class="plans">
        <div class="plan-card">
            <div class="plan-title">Basic</div>
            <div class="plan-price">$10 / month</div>
            <ul class="plan-features">
                <li>Access to gym equipment</li>
                <li>Locker room access</li>
            </ul>
            <a href="#" class="plan-btn">Join Basic</a>
        </div>

        <div class="plan-card">
            <div class="plan-title">Pro</div>
            <div class="plan-price">$25 / month</div>
            <ul class="plan-features">
                <li>All Basic features</li>
                <li>Group classes</li>
                <li>Personal coach 2x/month</li>
            </ul>
            <a href="#" class="plan-btn">Join Pro</a>
        </div>

        <div class="plan-card">
            <div class="plan-title">Elite</div>
            <div class="plan-price">$40 / month</div>
            <ul class="plan-features">
                <li>All Pro features</li>
                <li>Unlimited personal training</li>
                <li>Free supplements</li>
            </ul>
            <a href="#" class="plan-btn">Join Elite</a>
        </div>
    </div>
</div>

<div class="features">
    <h2>Why GymForce?</h2>
    <p>We offer personalized training, cutting-edge equipment, AI-powered nutrition tips, and a community of motivated people like you. Your transformation starts now.</p>
</div>

<div class="row g-4 px-4 py-5">
    {% for id, product in products %}
    <div class="col-md-4">
        <div class="card product-card h-100 border-0">
            <img src="{{ product.image }}" class="card-img-top" alt="{{ product.name }}" style="height: 350px; object-fit: cover;">
            <div class="card-body text-center">
                <h5 class="card-title fw-bold">{{ product.name }}</h5>
                <p class="h4 text-danger fw-bold">{{ product.price|number_format(2) }} TND</p>
                <a href="{{ path('addtocart', {'id': id}) }}" class="btn btn-dark btn-sm w-100 py-2 add-to-cart-btn" data-id="{{ id }}">ADD TO CART</a>
            </div>
        </div>
    </div>
    {% endfor %}
</div>

<!-- Callout Banner -->
<div class="bg-dark text-white py-5">
    <div class="container text-center py-4">
        <h2 class="fw-bold mb-4 text-uppercase">New Collection Dropping Soon</h2>
        <p class="lead mb-5">Sign up for exclusive early access</p>
        <div class="d-flex justify-content-center">
            <input type="email" class="form-control w-50 me-2" placeholder="Your Email">
            <a href="{{ path('signup') }}" class="btn btn-danger text-uppercase fw-bold">Notify Me</a>
        </div>
    </div>
</div>
{% endblock %}

{% block javascripts %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        document.querySelectorAll('.add-to-cart-btn').forEach(function(btn) {
            btn.addEventListener('click', function(e) {
                e.preventDefault();
                var productId = this.getAttribute('data-id');
                fetch(`{{ path('addtocart', {'id': 'ID_REPLACE'}) }}`.replace('ID_REPLACE', productId), {
                    method: 'GET',
                    headers: { 'X-Requested-With': 'XMLHttpRequest' }
                })
                .then(response => response.json())
                .then(data => {
                    // Update cart badge
                    var badge = document.querySelector('.cart-badge');
                    if (badge && data.cartCount !== undefined) {
                        badge.textContent = data.cartCount;
                    }
                    // Show quick feedback
                    var cartBtn = document.querySelector('.cart-btn');
                    if(cartBtn) {
                        cartBtn.classList.add('bg-success');
                        setTimeout(() => cartBtn.classList.remove('bg-success'), 500);
                    }
                });
            });
        });
    });
</script>
{% endblock %}
